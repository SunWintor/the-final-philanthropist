package hero

//                                                            .=O*    .,]]OOOOOOO]]`,*[*.....***,]]/OOOO[`**]]]OO@OO[`//.
//                                                         .,/O`..]O@@O[[..    ..*[[oo\]]***...... ,OOOOO[[[[*..,][,O/`
//                                                      .,/OO`,/@O[.   ...              ..,[\OOOO\]]]]]]*]],]/O[,/@/.
//                                                    ./O/`./@@`                                    ....*]O/`]O@/.
//                                                  ,OO[../@/                      ........**..*.....,/O[,/OO/.
//                                                ./O`.,O@/                ....******.....      ..*[`.,/OO[*...            .
//                                              .,O`/OO@O.   .        ..****..     ..            .*/O[`.... .[[[OOOOOOOOOOO\*
//                                             .//,@@/=/.        ....*....*]]]]]]/OOOOOOOOO\]]*... .... ..**]]*..  .*]OO[.
//                                            ./\@@`.//      .*]`...,/OOO[[`..         .......*,\**.. ....     .[\OO[.
//                                           .,@@/. =O.     ,O`  ./@[. ...****]]]]]]]**......... .,\...             .,\\]..
//                                           ,@@.  ,@`  .*,O/   .@/*.,/.. ..**]*..    .*[\`...*.*...,O`.                 .[o]*.
//                                           =@^  .O^   ./OO.  .@@.,O`          .,\\]*.   .\*  .*.... ,OO`.                ..*[O]`........
//                                           @@^  *O. .,O^/^   =@^=/./@@O\`         .*\\.   ,^....*.*.  .\@O`                   ...`=OO/`.
//                                           =@^  =/  =@^*O.  .@@=/,@@[[O@@@`.          ,O`  .,. . *`...   ,\@\`  ..       .*,]/O@OO[.
//                                           .@^ .o^  =O^,O  .*@^/=@@`*`/@@OO@^.          =\. .*.    ,`*....  ,O@\`..,/OOOOOO/[`.
//                                          .=@@`,O.   OO,O  .=@//@@`,O@OOOOOOO\.          ,O. .*     *\\*...    ,\@@]*,o]..
//                                          /@@\\.O.   .O\\...=@o@O`/@OO@OOoOOO@@*          .O` =.     .\O. *\*******[OOO]/OO]*.
//                                        ,@@o/o@^\^    .OO.*.@@@@`OOO@Oo\@@@@@@@@`          .O`.^      .=O. ,\..[[[[\/[[[`*.,\\`.
//                                      .@@/.O/\.\^@`.   ,@\=*@@O\OO@@Oo@@@@O/OOOO@^   ...  ...O.=*      .\O. ,O.     .\.    .*]/\\.
//                                    ./@/*,oOOOo.\`@`.   \OO`@@O/=@@OO@@@@@OOOOOOOO\.   ..  ..=O*^       .=@. ,O.      ,\.     .,\O\..
//                                   .@@`,/o`/OOO\.\`@\....@@O=@/*@@O@@@@\/@@@@@@@@@O\.  .*.  ..\^\.        \@. ,O.       =\.       .,\OO]]`...
//                                  .@/,o\//O^**,OO`,OO@/\*@@@/O.=@@@@@O@@@@@O@@@O/O^,O.  .*   .,O=^    ..   @^..=O.        \\.         ...*[[[OO
//                                 .@/,oo\OO/*****,O^*\@@@\\@\@@\=^@@@@@O@@`=@@O@@OO@@O\   **  ..O^^     ..  ,@^..\\          \\.  . ...*]]/OOO[.
//                                .OO*OO@O`,OO^*****.***[@@@^\^,@@\@@@@/=/ =@`...=/OO@@@^  .\.  .=Oo.     ..  =O...@^           \\.....*..
//                                /O^@@O/,O/..,O`******...\OO\.. \@@@/    ...         ,@@^  =^  .*OO`      .  *O^. ,@`            ,O`
//                               =OO@/OoOO**....=\***....]/*]*.    .,.                  =@. .o.  *OO`      ..  =O*  =@.             ,O`
//                              =@@@/=O*@O,O@@@^`**/****,`**,]`                          =^  =^  .OO^.     ..  *\^.  \^   ..          ,O`.
//                             .o@@@=O\=@^O@@@@@^,*.*,/***../O]]]...            .        .@* ,O  .OO^.     .*  .***. .@`..=^            .\\.
//                             *=@@.*oO^[O=@/@@`/`***/^*..*=OO\@`..            ...        =\ .O`  =O*.      *   *****.=O...O.   ...*]]/O@OO[.
//                             ./@^*,/\@\*]OO`*oO`*.*,***]***.*..             .**.        .O` =^  =O*..     *.  .*=.,@`=^. .O,[[[/`..
//                             .@@\o^*.,@\*...*.*^=^*****/**.*/`              .**          =\ =\  =O...     *.  .*O*..\\... .\`  \.
//                             *@@@,*..*,**/]]]O[***`**=^^=\**O^...           .*           .O`*O..=O .*     ,..  *@*  .,@\..  =^ =^
//                              =@@O..**,//\O/\^o**,]^**//^**/O@O@@@`          ..          .\^.O**OO ..     =. . ,@*    .,O^.. ,\.\`
//                              =@^,\*`]o[/`*/\/..=**,,^/`,O/../O/.].         .*.           =O.O^*OO..*     =* *.=@`     .*\O`. .o.O`
//                              =@^ *O*****,**`./O`**.*O,O**.,*OO/\.         .=`            =O`\^=@O **    .o* * @@*..  ... .[O\`.\.O`
//                              .@^ ...*******O/,o**.**=/*.**/`o/\]]]/*     ./^             *O^=^=@O =^    .O..o=@@` .,\]`*......[[OO@\]]`*..
//                               @@*,\`*****O`=/,o****`***,O[,//OoOO^.     .=[.             .O^=^=@^ =^    ,O.=^@@OO`.  .,[[\OOOOO/[[[*.
//                               @@\o^,*.*o`///O`***,****,*./*=OO@O`.     .,`*               @^=^@@^ =^    =^ /=@@.,O=`   .*...**\@O]]]O`.
//                               =@@**/O\...=O`********...**...\@@\O`..   .OO^.           .O\@^=*@@^.O`   .O^.O@@@@`=O,\. .\...=.     .*,[.
//                             .]@@@^,oO^.*/..*]/o/OOOOOOOOOOOO\/@*,*/.    ,O\/@@@OOOO]]]]`,`\^,=@@`.O.   ,O.=@@@@^,@\=`o. =^..,^
//                           ./@/@@@^=/Oo^*]/oOOOOO@@@@@@@@@@@@@@@..[.      ,[,oO@@@OOOO@@@@@@@O@@@`=O    =/.@@@@@^./O@\.\*.o.*.\`
//                           =O@@/@@@`^=^=o*=*.*[\O\]]]]@@@@O@@@@@@.        .*=@@@@@@@O@@@@O`=^,@@@^\/``[*@^=@@@@@O/  ,O\`\`=^\\,O.
//                           =*@@\@@@..*O@O@@@@@@@@@@@@@[\@@@@@@@@@\..      .=OOO@@@@@@@@@@\]@^=@^O*O^   =O.@@@@@@.,/@O@.=^\*^*@@,O.
//                           \\Oo,=@@*.,O[[O@@@]. ,`]]]]@/]]/@@O@@@@^        ..,\@@/`. \/`,@/=^@@[@O@]* ,@^/@/\@@.//@@@^@@..\o.o.,\\.
//                           =@O^,O@@`*O[^,,O@@\\@@@@@@@@O\/@@@@@@@OO             .[\@@@@@@@@@O@@@@O^ ../@/@@*@@`=@^=@@^.@^..\^=^..
//                            =@^=O\@^/oo`*****[/`,\[,O@@@@@@O@@oOOOO.            ....[[[[[[\@@^.*@O`..=@@@@`=@^=^\@`O^` /OO.*.,O
//                             =@/@O@@o^`,[\*,/`*=o^*=OOOO\/O@@OOOOO^                .      =@@  =@O .*O@@/`,@/ *@. .O^./@`.O`*.O`
//                             .=O[,@@^.*\/=**,ooO`,/O/*`/O`=O`\OOOO^                      .O@^  =@^../@@^. O@..@^ .*,,@@`   =O@/^
//                              .@@`\@^ ,\//=`,oo\O/**=,`.,O/**=OOOO^                      ,@@   =@ .=@@`  =@^=@.  ,O/\.=^    *O@@.
//                               ,@/@@@]*,`/*\OO\/*/\\/.*//`,/]OOOOO*                      =@`   @^./@@`   //.  .//`,@`O@^     .*[.
//                                ,@]=@/.*=,]OO/**oo/`/\@\/O@O\OOOOO*                     .@^   =@.=@@..  ,@@ ,],@@@`.\O@^       .
//                                 =@`@@`,.,OO[*=/=//^/[[]@OO`=OOOO\.                     =^    @^,@/ .. .@@@O`//.   .o@@@
//                                  =@@@@../\^.=^,o/=/*O/OO/..,/\O^o.                          =/,@/     /@.=O@`O     =@@@.
//                                     =@^,/*.=^**oO^/Oo\/`   .**=O`.                         .@,@^    .=@@/@@. ,\ ..  \@@^
//                                      \@`=^,/,\/=\O@@//.     ***..                          /O@`    ./@^O@`=OO`,@..\`.\\\.
//                                      .@@*\/**////@/...       \@@`....,/@].                =@/.    ./@@OO\@^OO@O\\\. ,\=O.
//                                       .@\\`*OOOO@`     .      *,O\,@@/**.                .O`      /@@O@` =@@* ,[\@@\]]\o@^.
//                                        ,@\=^=@OO/..            .**,^**..                .*.     ./@@O@^   .\@.       .........
//                                         =@\*[\/]o^.              ...                           ./@@@@@.     ,O`
//                                         .=@@`\OOO^.  =@].                         .           ,@@@@@@O
//                                           @@@`OO/.     ,[@@@@@@]]]]/@@@@@@@@@@@@@/.         ./@@@@@@@O
//                                           =@@@@@`*       ..       **.        ,O\          ./@@@\@@@@@^
//                                           ,@@@@@`*         .\O\]]]`*......,O/            ,@@@O`@@@\@@^
//                                            @@@@@@@.            .*[[[**.                ,@@@@^  @@@  \@`
//                                            =@@@@@@@\                                 ,@@@@@^.  @@^    .`..
//                                       .]`*.=@@@@@@@@@`                             /@@@@@Oo`   @@o`
//                                   ..,oO/`  .@@@@@@@@@@\                          /@@@@@OOO\.   @/ .[O].
//                                 *],*..      =@@@@@@@@O@@^                     ./@@@@@O/=O.    .@^      ,\].
//                             .]/*.           =@@@@@OO@@OO@@`                 ,@@@@@@@[`=O`     .@^         .,\.
//                          .]/`               ,@@@OOOo@@@OOO@\`            ,/@@@@@@@^. ,O^      *@^            .,\.
//                        ,O`                   @@O@@OO\OO@OOOO@@@@@@@@@@@@@@@@@@@@@.  .OO.      =@^               .\].
//                     ./[.                     @@@OOOO/*/OoOOOOOO@@@OOOO@@@@@@@@@[   ./O.       =@^                  ,\`
//                   ,O`                        @@OOOOO\o/\*OOOOOOOOOO@OOO@@@@@@/.    =O^        =@^                    .\`
//                .//.                          =@@OOOOOo^,@OO@@@OOO@O@@@@@@@OO`     ,O/.        =@^.                     .\`
//              ,O`                             =@@O@@OOoOoOO@@@O@OO@@@@@@OOO`      .OO.         @@@.                       .\`
//          .]O`.                               =@@@@\//OOOOO@@@@O@@@@@OOO/.        /O^.         @@@^                         ,\.
//       ,//`.                                  *@@@OO/OOOOOoOOO@@@@@@@@[.         =OO.          @@@^.o*                        =^
//   .]O[.                                      =@@@@OO@OOOOOOOO@@@@@@`.          .OO^   ..     .@@@^.O^                         .O.
//  ..                                        . @@@\@@\OoOOOOOO@@@@OO^.           /OO.   ..      =@@\,@^                           =^
//   .[\.                                    ./=@@@.@@\OOOOOOOOOO@OOO^.          =OO^   ...      @*\@@@.                            ,O.
//       .[\].                              .OO@@@/.=O\\OOOO@OOOOOOOOo`         .oO/.  .**      /^  ,@^                               \\.
//           ..[O\].                       .O=@@@@. /@@,OO@OOOOOOOOOO\.        .,/O.   **.         .@/                                  =@^
//                 .,[O\].                ./\O@@@@ //=OO/O@OOOOOOOOo/.         .=\`   .=`         .@@.                              .]O/`
//                .]/@@@@^*[\O]`           =/=@@@^//.,@@OOOO@OOOOO/*.          ***.   ,/^        .@/.                         ..,]O/`
//           ,/@@@@@@@@@^      .,O`        ,o@@@@@@..*@@@O@OOOO@o/`           .`..    =o.       ,@/                       ,]/@/[`
//     ,]/@@@@@@@@@@@@@^          .\\      =O@@@@^. .=^@@OOOOOo/**.          ./*     .O\.      /@`                  ,]OO/[.=@@@@`
//./@@[[. .@@@@@@@@@@@@.            .\`.   /O@@^..  ,*^,OO=Oo/.***.         .,`      ,OO^    ,@/.            .]]O@@[.       @@@@O@@]
//..      =@@@@@@@@@@@^          ..  .,O. ,O/.@@     .o,`  .. ...          .*`.     .=OOO` ./@`        ,]@@@[`. ...         =@@@@@OO@@@].
//       .@@@@@@@@@@@@.       .=/. ..  .\^=O^ =@`                         .**`.      =OOO//@`    .]/@@[`.       ...         =@@@@@@=OO@@@@@\`
//       =@@@@@@@@@@@/      .//. **.   ..,@O. .@\                        .**/*.     .\O@@@@. ,/@@/`            ..*.         =@@@@@@^O@@@@^[\@@@]
//      .@@@@@@@@@@@@`    ./[..*..        ]/.  =@`                      .****.      .o@@@/@@@/.                .**          =@@@@@@@/@@@@\    .,[
//      =@@@@@@@@@@@@  ....  ..        .//`    .@@                     .*.,/.       ,@@/ .\@`                  .*.          *@@@@@@@@@@@@@.
//     .@@@@@@@@@@@@`                ,O/.       =@^                   .*.,/.       =@`     =@^                 **.          *@@@@@@@@@@@@@^
//     =@@@@@@@@@@@^               .O/.          \@`                 ...=/.      ,@`        .[O\.             .*`.          .@@@@@@@@@@@@@^
//     @@@@@@@@@@@@`              ,O`            .@@                  ./^....,]/@.             .\@`           *[*.           @@@@@@@@@@@@@^
//    .@@@@@@@@@@@^.              .=`             ,@^                ./@@O/[,@@`                  ,@]        .***            @@@@@@@@@@@@@@
//    =@@@@@@@@@OO.                 .\`            ,@`       .\\]]/@@@@/. ,@/.                      ,@`      **`.            @@@@@@@@@@@@@@
//    O@@@@@@@Oo[.                    .\\           =@.         ,\@@@\]./@/.                     ,]@@/[.   .*\o^.            @@@@@@@@@@@@@@
//   .@@@@@@O/.                         .\\.         \\          *OO/./@/.                 *]@@@[`.       .*/o/.             O@@@@@@@@@@@@O
//   *@@@OO/*.                            .\@`       .@^        .O\/@@/.             .]/@@[`.            ***/\*              =@@@@@@@@@@@@^
//   *OO^O^.                                 ,@\.     ,@`      .\/O@`         .]]OO/[`*.               .***\/^.              ,O@@@[@@@@@@@*
//   .****.                                    .\@]    =@.      /@`     ../@O[`. .***.                .**`,/,*               ./@O^ ..*@@@/
//     .**                                        .\@]. \^   ./@`  ,/@@[..  ..**]**.                 .****=/*.               .*.     .@@^.
//     **.                                           .\@@@. ,@/./@/`.     ,/o/,*..                  .**`,]o`.
//     ...                                              .@@=@\@@`      ./O/*,*.                   .**=*/*o,*
//                                                        \@@@[.   .*/O/`,/*.                    .**/***oo^.
//                                                        /@\]].*/O@@/`*`.                      .*******=/.
//                                                        .O@@@oOOO^*..                         *^*******..
//                                                       .*@@@O[. .                              .*****...
//                                                                                               .**....
//                                                                                                 ....

type Mathematician struct {
	heroInfo
}

func (f *Mathematician) Init() {
	f.Id = 19
	f.Rarity = NRarity
	f.MoneyLimit = 100
	f.CurrentMoney = f.MoneyLimit
	f.Name = "大数学家"
	f.Motto = "学好数学再来玩这个游戏"
	f.SkillInfo = []SkillInfo{{
		Name: "基本素质",
		Desc: "回合结束时剩余金币若为素数\n获得2枚金币"},
	}
	f.SkillMoney = 0
}

const (
	mathematicianSkillMoney = 2
)

var primeNum = []int64{2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 37, 41, 43, 47, 53, 59, 61, 67, 71, 73, 79, 83, 89, 97, 101, 103, 107, 109, 113}

func (l *Mathematician) OnRoundStart(ctx *SkillContext) {
	l.SkillMoney = 0
}

func (l *Mathematician) OnRoundEnd(ctx *SkillContext) {
	// 算哈希比这个循环慢多了
	for _, v := range primeNum {
		if l.CurrentMoney == v {
			l.AddMoney(mathematicianSkillMoney)
			l.SkillMoney = mathematicianSkillMoney
			return
		}
	}
}
